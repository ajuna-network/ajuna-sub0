//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Ajuna.NetApi.Model.Types.Base;
using Ajuna.ServiceLayer.Attributes;
using Ajuna.ServiceLayer.Storage;
using System.Collections.Generic;
using System.Threading.Tasks;


namespace HelloKusama.RestService.Generated.Storage
{
    
    
    /// <summary>
    /// IParasSharedStorage interface definition.
    /// </summary>
    public interface IParasSharedStorage : IStorage
    {
        
        /// <summary>
        /// >> CurrentSessionIndex
        ///  The current session index.
        /// </summary>
        Ajuna.NetApi.Model.Types.Primitive.U32 GetCurrentSessionIndex();
        
        /// <summary>
        /// >> ActiveValidatorIndices
        ///  All the validators actively participating in parachain consensus.
        ///  Indices are into the broader validator set.
        /// </summary>
        Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.ValidatorIndex> GetActiveValidatorIndices();
        
        /// <summary>
        /// >> ActiveValidatorKeys
        ///  The parachain attestation keys of the validators actively participating in parachain consensus.
        ///  This should be the same length as `ActiveValidatorIndices`.
        /// </summary>
        Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.validator_app.Public> GetActiveValidatorKeys();
    }
    
    /// <summary>
    /// ParasSharedStorage class definition.
    /// </summary>
    public sealed class ParasSharedStorage : IParasSharedStorage
    {
        
        /// <summary>
        /// _currentSessionIndexTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32> _currentSessionIndexTypedStorage;
        
        /// <summary>
        /// _activeValidatorIndicesTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.ValidatorIndex>> _activeValidatorIndicesTypedStorage;
        
        /// <summary>
        /// _activeValidatorKeysTypedStorage typed storage field
        /// </summary>
        private TypedStorage<Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.validator_app.Public>> _activeValidatorKeysTypedStorage;
        
        /// <summary>
        /// ParasSharedStorage constructor.
        /// </summary>
        public ParasSharedStorage(IStorageDataProvider storageDataProvider, List<IStorageChangeDelegate> storageChangeDelegates)
        {
            this.CurrentSessionIndexTypedStorage = new TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32>("ParasShared.CurrentSessionIndex", storageDataProvider, storageChangeDelegates);
            this.ActiveValidatorIndicesTypedStorage = new TypedStorage<Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.ValidatorIndex>>("ParasShared.ActiveValidatorIndices", storageDataProvider, storageChangeDelegates);
            this.ActiveValidatorKeysTypedStorage = new TypedStorage<Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.validator_app.Public>>("ParasShared.ActiveValidatorKeys", storageDataProvider, storageChangeDelegates);
        }
        
        /// <summary>
        /// _currentSessionIndexTypedStorage property
        /// </summary>
        public TypedStorage<Ajuna.NetApi.Model.Types.Primitive.U32> CurrentSessionIndexTypedStorage
        {
            get
            {
                return _currentSessionIndexTypedStorage;
            }
            set
            {
                _currentSessionIndexTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _activeValidatorIndicesTypedStorage property
        /// </summary>
        public TypedStorage<Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.ValidatorIndex>> ActiveValidatorIndicesTypedStorage
        {
            get
            {
                return _activeValidatorIndicesTypedStorage;
            }
            set
            {
                _activeValidatorIndicesTypedStorage = value;
            }
        }
        
        /// <summary>
        /// _activeValidatorKeysTypedStorage property
        /// </summary>
        public TypedStorage<Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.validator_app.Public>> ActiveValidatorKeysTypedStorage
        {
            get
            {
                return _activeValidatorKeysTypedStorage;
            }
            set
            {
                _activeValidatorKeysTypedStorage = value;
            }
        }
        
        /// <summary>
        /// Connects to all storages and initializes the change subscription handling.
        /// </summary>
        public async Task InitializeAsync(Ajuna.ServiceLayer.Storage.IStorageDataProvider dataProvider)
        {
            await CurrentSessionIndexTypedStorage.InitializeAsync("ParasShared", "CurrentSessionIndex");
            await ActiveValidatorIndicesTypedStorage.InitializeAsync("ParasShared", "ActiveValidatorIndices");
            await ActiveValidatorKeysTypedStorage.InitializeAsync("ParasShared", "ActiveValidatorKeys");
        }
        
        /// <summary>
        /// Implements any storage change for ParasShared.CurrentSessionIndex
        /// </summary>
        [StorageChange("ParasShared", "CurrentSessionIndex")]
        public void OnUpdateCurrentSessionIndex(string data)
        {
            CurrentSessionIndexTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> CurrentSessionIndex
        ///  The current session index.
        /// </summary>
        public Ajuna.NetApi.Model.Types.Primitive.U32 GetCurrentSessionIndex()
        {
            return CurrentSessionIndexTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for ParasShared.ActiveValidatorIndices
        /// </summary>
        [StorageChange("ParasShared", "ActiveValidatorIndices")]
        public void OnUpdateActiveValidatorIndices(string data)
        {
            ActiveValidatorIndicesTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> ActiveValidatorIndices
        ///  All the validators actively participating in parachain consensus.
        ///  Indices are into the broader validator set.
        /// </summary>
        public Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.ValidatorIndex> GetActiveValidatorIndices()
        {
            return ActiveValidatorIndicesTypedStorage.Get();
        }
        
        /// <summary>
        /// Implements any storage change for ParasShared.ActiveValidatorKeys
        /// </summary>
        [StorageChange("ParasShared", "ActiveValidatorKeys")]
        public void OnUpdateActiveValidatorKeys(string data)
        {
            ActiveValidatorKeysTypedStorage.Update(data);
        }
        
        /// <summary>
        /// >> ActiveValidatorKeys
        ///  The parachain attestation keys of the validators actively participating in parachain consensus.
        ///  This should be the same length as `ActiveValidatorIndices`.
        /// </summary>
        public Ajuna.NetApi.Model.Types.Base.BaseVec<HelloKusama.NetApiExt.Generated.Model.polkadot_primitives.v2.validator_app.Public> GetActiveValidatorKeys()
        {
            return ActiveValidatorKeysTypedStorage.Get();
        }
    }
}
